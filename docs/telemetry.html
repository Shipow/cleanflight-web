<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Telemetry &middot; Cleanflight
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/css/bootstrap.min.css">
  <!-- build:css /assets/stylesheets/style.min.css -->
  <link rel="stylesheet" href="http://shipow.github.io/cleanflight-web/assets/stylesheets/style.css">
  <!-- endbuild -->
  <link href='//fonts.googleapis.com/css?family=Marvel:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css">

  <!-- JS -->
  <!-- build:js /assets/javascript/all.min.js -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script src="//cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/algoliasearch/3.5.0/algoliasearch.min.js"></script>
  <script>
    window.baseUrl = 'http://shipow.github.io/cleanflight-web';
    window.algolia = algoliasearch('T2ZX9HO66V', '7119d2f6f1cd95224251ec2e490e824f');
    window.index = algolia.initIndex('dev_cleanflight');
  </script>
  <script type="text/template" id="my-custom-menu-template">
    <div class="my-custom-menu">
      <div class="row">
        <div class="col-sm-6">
          <div class="aa-dataset-d1"></div>
        </div>
        <div class="col-sm-6">
          <div class="aa-dataset-d2"></div>
          <div class="aa-dataset-d3"></div>
        </div>
      </div>
    </div>
  </script>
  <script src="http://shipow.github.io/cleanflight-web/assets/javascript/javascript.js"></script>
  <!-- endbuild -->

  <!-- Icons -->
  <link rel="shortcut icon" href="http://shipow.github.io/cleanflight-web/assets/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <body>
    <nav class="navbar navbar-inverse">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://shipow.github.io/cleanflight-web/"><img src="http://shipow.github.io/cleanflight-web/assets/images/cleanflight-logo.png" height="50"></a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://shipow.github.io/cleanflight-web/docs/getting-started.html">Documentation</a></li>
            <!-- <li><a href="#">Ressources</a></li> -->
            <li><a href="https://github.com/cleanflight/cleanflight">Contributing</a></li>
          </ul>
          <div class="search-wrapper">
            <input id="search" type="text" class="form-control" placeholder="Search">
          </div>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>
    <div class="container post">

  <div class="row post-full">
    <div class="col-md-9">
      <div class="content">
        <h1>Telemetry</h1>

<p>Telemetry allows you to know what is happening on your aircraft while you are flying it.  Among other things you can receive battery voltages and GPS positions on your transmitter.</p>

<p>Telemetry can be either always on, or enabled when armed.  If a serial port for telemetry is shared with other functionality then telemetry will only be enabled when armed on that port.</p>

<p>Telemetry is enabled using the &lsquo;TELEMETRY` feature.</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">feature TELEMETRY
</code></pre></figure>
<p>Multiple telemetry providers are currently supported, FrSky, Graupner
HoTT V4, SmartPort (S.Port) and LightTelemetry (LTM)</p>

<p>All telemetry systems use serial ports, configure serial ports to use the telemetry system required.</p>

<h2>FrSky telemetry</h2>

<p>FrSky telemetry is transmit only and just requires a single connection from the TX pin of a serial port to the RX pin on an FrSky telemetry receiver.</p>

<p>FrSky telemetry signals are inverted.  To connect a cleanflight capable board to an FrSKy receiver you have some options.</p>

<ol>
<li>A hardware inverter - Built in to some flight controllers.</li>
<li>Use software serial and enable frsky_inversion.</li>
<li>Use a flight controller that has software configurable hardware inversion (e.g. STM32F30x).</li>
</ol>

<p>For 1, just connect your inverter to a usart or software serial port.</p>

<p>For 2 and 3 use the CLI command as follows:</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">set telemetry_inversion = ON
</code></pre></figure>
<h3>Available sensors</h3>

<p>The following sensors are transmitted :</p>

<p>Vspd : vertical speed, unit is cm/s.</p>

<p>Hdg : heading, North is 0°, South is 180°.</p>

<p>AccX,Y,Z : accelerometers values.</p>

<p>Tmp1 : baro temp if available, gyro otherwise.</p>

<p>RPM : if armed : throttle value, battery capacity otherwise. (Blade number needs to be set to 12 in Taranis).</p>

<p>Cels : average cell value, vbat divided by cell number.</p>

<p>VFAS : actual vbat value (see VFAS precision section bellow).</p>

<p>Curr : actual current comsuption, in amp.</p>

<p>Fuel : if capacity set :remaining battery percentage, mah drawn otherwise.</p>

<p>GPS : GPS coordinates.</p>

<p>Alt : barometer based altitude, init level is zero.</p>

<p>Date : time since powered.</p>

<p>GSpd : current speed, calculated by GPS.</p>

<p>GAlt : GPS altitude, sea level is zero.</p>

<p>Tmp2 : number of sats. Every second, a number &gt; 100 is sent to represent GPS signal quality.</p>

<h3>Precision setting for VFAS</h3>

<p>Cleanflight can send VFAS (FrSky Ampere Sensor Voltage) in two ways:</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">set frsky_vfas_precision  = 0
</code></pre></figure>
<p>This is default setting which supports VFAS resolution of 0.2 volts and is supported on all FrSky hardware.</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">set frsky_vfas_precision  = 1
</code></pre></figure>
<p>This is new setting which supports VFAS resolution of 0.1 volts and is only supported by OpenTX radios (this method uses custom ID 0x39).</p>

<h2>HoTT telemetry</h2>

<p>Only Electric Air Modules and GPS Modules are emulated.</p>

<p>Use the latest Graupner firmware for your transmitter and receiver.</p>

<p>Older HoTT transmitters required the EAM and GPS modules to be enabled in the telemetry menu of the transmitter. (e.g. on MX-20)</p>

<p>Serial ports use two wires but HoTT uses a single wire so some electronics are required so that the signals don&rsquo;t get mixed up.  The TX and RX pins of
a serial port should be connected using a diode and a single wire to the <code>T</code> port on a HoTT receiver.</p>

<p>Connect as follows:</p>

<ul>
<li>HoTT TX/RX <code>T</code> -&gt; Serial RX (connect directly)</li>
<li>HoTT TX/RX <code>T</code> -&gt; Diode <code>-(  |)-</code> &gt; Serial TX (connect via diode)</li>
</ul>

<p>The diode should be arranged to allow the data signals to flow the right way</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">-(  |)- == Diode, | indicates cathode marker.
</code></pre></figure>
<p>1N4148 diodes have been tested and work with the GR-24.</p>

<p>As noticed by Skrebber the GR-12 (and probably GR-16/24, too) are based on a PIC 24FJ64GA-002, which has 5V tolerant digital pins.</p>

<p>Note: The SoftSerial ports may not be 5V tolerant on your board.  Verify if you require a 5v/3.3v level shifters.</p>

<h2>LightTelemetry (LTM)</h2>

<p>LTM is a lightweight streaming telemetry protocol supported by a
number of OSDs, ground stations and antenna trackers.</p>

<p>The Cleanflight implementation of LTM implements the following frames:</p>

<ul>
<li>G-FRAME: GPS information (lat, long, ground speed, altitude, sat
info)</li>
<li>A-FRAME: Attitude (pitch, roll, heading)</li>
<li>S-FRAME: Status (voltage, current+, RSSI, airspeed+, status). Item
suffixed &rsquo;+&rsquo; not implemented in Cleanflight.</li>
<li>O-FRAME: Origin (home position, lat, long, altitude, fix)</li>
</ul>

<p>In addition, in the inav (navigation-rewrite) fork:
* N-FRAME: Navigation information (GPS mode, Nav mode, Nav action,
  Waypoint number, Nav Error, Nav Flags).</p>

<p>LTM is transmit only, and can work at any supported baud rate. It is
designed to operate over 2400 baud (9600 in Cleanflight) and does not
benefit from higher rates. It is thus usable on soft serial.</p>

<p>More information about the fields, encoding and enumerations may be
found at
<a href="https://github.com/stronnag/mwptools/blob/master/docs/ltm-definition.txt">https://github.com/stronnag/mwptools/blob/master/docs/ltm-definition.txt</a></p>

<h2>SmartPort (S.Port)</h2>

<p>Smartport is a telemetry system used by newer FrSky transmitters and receivers such as the Taranis/XJR and X8R, X6R and X4R(SB).</p>

<p>More information about the implementation can be found here: <a href="https://github.com/frank26080115/cleanflight/wiki/Using-Smart-Port">https://github.com/frank26080115/cleanflight/wiki/Using-Smart-Port</a></p>

<h3>Available sensors</h3>

<p>The following sensors are transmitted :</p>

<p>Alt : barometer based altitude, init level is zero.</p>

<p>Vspd : vertical speed, unit is cm/s.</p>

<p>Hdg : heading, North is 0°, South is 180°.</p>

<p>AccX,Y,Z : accelerometers values.</p>

<p>Tmp1 : actual flight mode, sent as 4 digits. Number is sent as (1)1234. Please ignore the leading 1, it is just there to ensure the number as always 5 digits (the 1 + 4 digits of actual data) the numbers are aditives (for example, if first digit after the leading 1 is 6, it means GPS Home and Headfree are both active) :</p>

<ol>
<li>1 is GPS Hold, 2 is GPS Home, 4 is Headfree</li>
<li>1 is mag enabled, 2 is baro enabled, 4 is sonar enabled</li>
<li>1 is angle, 2 is horizon, 4 is passthrough</li>
<li>1 is ok to arm, 2 is arming is prevented,  4 is armed</li>
</ol>

<p>Tmp2 : GPS lock status, Number is sent as 1234, the numbers are aditives :</p>

<ol>
<li>1 is GPS Fix, 2 is GPS Home fix</li>
<li>not used</li>
<li>not used</li>
<li>number of sats</li>
</ol>

<p>VFAS : actual vbat value.</p>

<p>GAlt : GPS altitude, sea level is zero.</p>

<p>GSpd : current speed, calculated by GPS.</p>

<p>GPS : GPS coordinates.</p>

<h3>Integrate Cleanflight telemetry with FrSky Smartport sensors</h3>

<p>While Cleanflight telemetry brings a lot of valuable data to the radio, there are additional sensors, like Lipo cells sensor FLVSS, that can be a great addition for many aircrafts. Smartport sensors are designed to be daisy chained, and CF telemetry is no exception to that. To add an external sensor, just connect the &ldquo;S&rdquo; port of the FC and sensor(s) together, and ensure the sensor(s) are getting connected to GND and VCC either from the controler or the receiver</p>

<p><img src="http://shipow.github.io/cleanflight-web/assets/images/integrate_smartport.png" alt="Smartport diagram"></p>

<h3>SmartPort on F3 targets with hardware UART</h3>

<p>Smartport devices can be connected directly to STM32F3 boards such as the SPRacingF3 and Sparky, with a single straight through cable without the need for any hardware modifications on the FC or the receiver. Connect the TX PIN of the UART to the Smartport signal pin.</p>

<p>For Smartport on F3 based boards, enable the telemetry inversion setting.</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">set telemetry_inversion = ON
</code></pre></figure>
<h3>SmartPort on F1 and F3 targets with SoftSerial</h3>

<p>Since F1 targets like Naze32 or Flip32 are not equipped with hardware inverters, SoftSerial might be simpler to use. </p>

<ol>
<li>Enable SoftSerial <code>feature SOFTSERIAL</code></li>
<li>In Configurator assign <u>Telemetry</u> &gt; <u>Smartport</u> &gt; <u>Auto</u> to SoftSerial port of your choice</li>
<li>Enable Telemetry <code>feature TELEMETRY</code></li>
<li>Confirm telemetry invesion <code>set telemetry_inversion = ON</code></li>
<li>You have to bridge TX and RX lines of SoftSerial and connect them together to S.Port signal line in receiver</li>
</ol>

<p>Notes:</p>

<ul>
<li>This has been tested with Flip32 and SPracingF3 boards and FrSky X8R and X4R receivers</li>
<li>To discover all sensors board has to be armed, and when GPS is connected, it needs to have a proper 3D fix. When not armed, values like <strong><em>Vfas</em></strong> or GPS coordinates may not sent.</li>
</ul>

      </div>
    </div>
    <div class="col-md-3">
      <div class="spacer30"></div>
      <h2>Documentation</h2>
      <ul class="posts list-unstyled">
        
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/1wire.html">1wire</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/autotune.html">Autotune</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/battery.html">Battery</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/blackbox.html">Blackbox</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-alienflight.html">Board   Alienflight</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-alienwii32.html">Board   Alienwii32</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-cc3d.html">Board   Cc3d</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-chebuzzf3.html">Board   Chebuzzf3</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-cjmcu.html">Board   Cjmcu</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-colibrirace.html">Board   Colibrirace</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-f3fc-racing.html">Board   F3fc Racing</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-motolab.html">Board   Motolab</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-naze32.html">Board   Naze32</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-olimexino.html">Board   Olimexino</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-paris-air-hero-32.html">Board   Paris Air Hero 32</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-rmdo.html">Board   Rmdo</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-sparky.html">Board   Sparky</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-spracingf3.html">Board   Spracingf3</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-spracingf3evo.html">Board   Spracingf3evo</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/board-spracingf3mini.html">Board   Spracingf3mini</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/boards.html">Boards</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/buzzer.html">Buzzer</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/cli.html">Cli</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/configuration.html">Configuration</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/controls.html">Controls</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/display.html">Display</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/failsafe.html">Failsafe</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/getting-started.html">Getting Started</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/gps.html">Gps</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/gtune.html">Gtune</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/inflight-adjustments.html">Inflight Adjustments</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/installation.html">Installation</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/introduction.html">Introduction</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/ledstrip.html">Ledstrip</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/migrating-from-baseflight.html">Migrating From Baseflight</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/mixer.html">Mixer</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/modes.html">Modes</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/oneshot.html">Oneshot</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/pid-tuning.html">Pid Tuning</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/profiles.html">Profiles</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/rssi.html">Rssi</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/rx.html">Rx</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/safety.html">Safety</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/serial.html">Serial</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/sonar.html">Sonar</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/spektrum-bind.html">Spektrum Bind</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/telemetry.html">Telemetry</a></li>
          
        
          
            <li><a href="http://shipow.github.io/cleanflight-web/docs/usb-flashing.html">Usb Flashing</a></li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
      
        <div class="catbloc" id="docs">
          
          
        </div>
      
        <div class="catbloc" id="api">
          
          
            <h3>api</h3>
            <ul class="posts list-unstyled">
              
                
                  
                
              
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/api/msp-extensions.html">
                        Msp_extensions
                      </a>
                    </li>
                  
                
              
            </ul>
          
        </div>
      
        <div class="catbloc" id="development">
          
          
            <h3>development</h3>
            <ul class="posts list-unstyled">
              
                
                  
                
              
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/travis.html">
                        Travis
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/pid-internals.html">
                        Pid Internals
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/hardware-debugging.html">
                        Hardware Debugging
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/hardware-debugging-in-eclipse.html">
                        Hardware Debugging In Eclipse
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/development.html">
                        Development
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/configuration-storage.html">
                        Configuration Storage
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/configuration-format.html">
                        Configuration Format
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/building-manual.html">
                        Building Manual
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/building-in-windows.html">
                        Building In Windows
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/building-in-ubuntu.html">
                        Building In Ubuntu
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/building-in-mac-os-x.html">
                        Building In Mac Os X
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/building-in-fedora.html">
                        Building In Fedora
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/building-in-eclipse.html">
                        Building In Eclipse
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/blackbox-internals.html">
                        Blackbox Internals
                      </a>
                    </li>
                  
                
                  
                    <li>
                      <a href="http://shipow.github.io/cleanflight-web/docs/development/atomic-barrier.html">
                        Atomic Barrier
                      </a>
                    </li>
                  
                
              
            </ul>
          
        </div>
      
    </div>
  </div>
</div>

    <footer class="footer text-center">
      <i class="fa fa-copyright"></i> 2015 Cleanflight Team
    </footer>
  </body>
</html>
